<div class="max-w-md mx-auto mt-6">
  <form id="add-todo-form" class="flex space-x-2 mb-4" method="POST" action="/todos">
    <input type="text" name="title" placeholder="What's next?" 
           class="flex-grow border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" 
           required />
    <input type="date" name="dueDate" 
           class="border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" 
           required />
    <button type="submit" 
            class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition">Add</button>
  </form>

  <% const sections = [
    { label: 'Overdue', id: 'count-overdue', todos: overdueTodos, prefix: '' },
    { label: 'Due Today', id: 'count-due-today', todos: dueTodayTodos, prefix: 'today-' },
    { label: 'Due Later', id: 'count-due-later', todos: dueLaterTodos, prefix: 'later-' }
  ]; %>

  <% sections.forEach(section => { %>
    <div>
      <h5 class="font-semibold mb-2"><%= section.label %></h5>
      <span id="<%= section.id %>"><%= section.todos.length %></span>
      <ul class="list-none space-y-2">
        <% if (section.todos && section.todos.length > 0) { %>
          <% section.todos.forEach(function(todo, index) { %>
            <li data-todo-id="<%= todo.id %>" class="flex items-center space-x-2 p-2 rounded hover:bg-purple-50 group relative">
              <input id="todo-checkbox-<%= section.prefix + index %>" 
                     type="checkbox" 
                     class="w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500" 
                     <%= todo.completed ? "checked" : "" %> 
                     onchange="toggleCompleted(<%= todo.id %>, this)" />
              
              <label for="todo-checkbox-<%= section.prefix + index %>" 
                     class="ml-2 text-sm text-gray-600 cursor-pointer"><%= todo.title %></label>
              
              <button type="button" 
                      onclick="deleteTodo(<%= todo.id %>)" 
                      title="Delete" 
                      class="ml-2 delete-bin-icon opacity-0 group-hover:opacity-100 transition absolute right-2 top-2 cursor-pointer text-gray-400 hover:text-red-600">
              </button>
            </li>
          <% }); %>
        <% } else { %>
          <li class="text-gray-500">No <%= section.label.toLowerCase() %> todos</li>
        <% } %>
      </ul>
    </div>
  <% }); %>
</div>
 